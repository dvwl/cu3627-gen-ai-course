# ProjectEstimator - Copilot Context

## Project Overview
ASP.NET Core MVC web application implementing three-point estimation methodology (PERT) for project management with interactive Gantt chart visualization.

## Architecture
- **Framework**: ASP.NET Core MVC (.NET 9)
- **Database**: SQLite with Entity Framework Core
- **Pattern**: Model-View-Controller with dependency injection
- **Frontend**: Bootstrap 5 + Mermaid.js for charts

## Core Business Logic

### Three-Point Estimation (PERT)
```csharp
// Expected hours calculation
expectedHours = (optimistic + 4 * mostLikely + pessimistic) / 6;

// Standard deviation calculation  
standardDeviation = (pessimistic - optimistic) / 6;

// Variance calculation
variance = Math.Pow(standardDeviation, 2);
```

### Key Entities
- **Project**: Container for tasks with calculated estimation totals
- **ProjectTask**: Individual work item with optimistic/most likely/pessimistic estimates
- **TaskStatus**: Enum (NotStarted, InProgress, Completed, Blocked)

### Services
- **IEstimationService**: PERT calculations, critical path analysis, project summaries
- **IMermaidService**: Gantt chart and dependency diagram generation

## File Structure
```
Controllers/
├── HomeController.cs      # Dashboard with project overview
└── TasksController.cs     # CRUD operations for tasks

Models/
├── Project.cs            # Project entity with calculated properties
└── ProjectTask.cs        # Task entity with estimation fields

Services/
├── EstimationService.cs  # Business logic for PERT calculations
└── MermaidService.cs     # Chart generation logic

Data/
├── ApplicationDbContext.cs  # EF Core context
└── SeedData.cs             # Sample data seeding

Views/
├── Home/Index.cshtml       # Main dashboard
├── Tasks/*.cshtml          # Task management views
└── Shared/_Layout.cshtml   # Master layout
```

## Common Patterns

### Dependency Injection
```csharp
public TasksController(ApplicationDbContext context, IEstimationService estimationService)
{
    _context = context;
    _estimationService = estimationService;
}
```

### Model Binding
```csharp
[HttpPost]
public async Task<IActionResult> Create([Bind("Name,Description,OptimisticHours,MostLikelyHours,PessimisticHours")] ProjectTask task)
```

### Entity Relationships
```csharp
// Many-to-many task dependencies
public List<ProjectTask> Dependencies { get; set; } = new();
public List<ProjectTask> Dependents { get; set; } = new();
```

## Development Notes
- Uses code-first EF migrations
- Implements responsive Bootstrap UI
- Real-time chart updates with Mermaid.js
- Critical path calculation for project scheduling
- Task dependency management with cycle detection